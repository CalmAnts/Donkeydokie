<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>DonkeyDokie</title>

  <!-- CSS  -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="static/CSS/lib/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="static/CSS/lib/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
  <link href="static/CSS/style.css" type="text/css" rel="stylesheet" media="screen,projection"/>
</head>

<body id="applications_app">

  <dd-header v-bind:url="url"></dd-header>

  <dd-side-nav :user="userInfo" ></dd-side-nav>

  <div class="content">

    <div class="row">
        <div class="col s6">
            <span class="sub_title">My Applications</span>
        </div>
        <div class="col s6">
            <dd-search></dd-search>
        </div>
    </div>

    <br>

    <ul class="collapsible">
        <li v-for="application in personal_applications">
            <div class="collapsible-header">
                <i class="material-icons" style="color:{{application.color}}">{{application.statusIcon}}</i>
                {{application.Title}}</div>
            <div class="collapsible-body">
                <span class="detail">Hoster: </span><span>{{application.HosterLoginName}}</span>
                <br>
                <span class="detail">Contact: </span><span>{{application.HosterEmail}}</span>
                <br>
                <span class="detail">Status: </span><span>{{application.ApplyStatus}}</span>
                <br>
                <span class="detail">Apply Time: </span><span>{{application.ApplyTime}}</span>
                <br>
                <span class="detail">Message: </span><span>{{application.Message}}</span>
                <br>
                <a class="modal-action waves-effect waves-light btn blue lighten-2 {{application.buttonStatus}}" style="margin-top: 10px; margin-bottom: 10px" href="javascript:void(0)" @click="onDeleteOpen(application.TripID)">Delete</a>
            </div>
        </li>
    </ul>

    <div id="modal-delete" class="modal">
            <div class="modal-content">
                <div class="row">
                  <span>Are you sure you want to delete this application?</span>
                </div>
            </div>
            <div class="modal-footer">
                <a href="javascript:void(0)" class="btn-flat blue lighten-2" @click="deleteApplication">Delete</a>
                <a href="javascript:void(0)" class="btn-flat blue lighten-2" @click="onDeleteClose">Cancel</a>
            </div>
    </div>

    <div id="modal-message" class="modal">
            <div class="modal-content">
                <div class="row">
                    <span>{{message}}</span>
                </div>
            </div>
            <div class="modal-footer">
                <a href="javascript:void(0)" class="btn-flat blue lighten-2" @click="onCloseMessage">Ok</a>
            </div>
    </div>

    <div class="row">
            <div class="col s6 offset-s3 pagination-box">
              <ul class="pagination">
                <li :class="{ disabled: curPage === 1 }">
                  <a href="javascript:void(0)" @click="changePage(curPage - 1)"><i class="material-icons">chevron_left</i></a>
                </li>
                <li v-for="num in pageList" :class="{ active: num === curPage, 'blue-grey': num === curPage, 'darken-3': num === curPage }">
                  <a href="javascript:void(0)" @click="changePage(num)">{{ num }}</a>
                </li>
                <li :class="{ disabled: curPage === totalPageNumber }">
                  <a href="javascript:void(0)" @click="changePage(curPage + 1)"><i class="material-icons">chevron_right</i></a>
                </li>
              </ul>
            </div>
          </div>

</div>

<dd-footer></dd-footer>

<script src="static/js/lib/vue.min.js"></script>
<script src="static/js/lib/jquery.min.js"></script>
<script src="static/js/lib/materialize.min.js"></script>
<script src="static/js/lib/materialize.js"></script>
<script src="static/js/lib/init.js"></script>

<script src="static/js/components/dd_header.js"></script>
<script src="static/js/components/dd_side_nav.js"></script>
<script src="static/js/components/dd_footer.js"></script>
<script src="static/js/components/dd_search.js"></script>

<script src="static/js/controllers/applications.js"></script>

</body>
</html>

